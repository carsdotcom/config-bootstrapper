/*!
 * Config Bootstrapper v0.0.0 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2015 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden <mheller-ogden@cars.com>
 * @summary A simple configuration bootstrapper
 */
!function(){function t(t){this.options=t}t.prototype.ready=function(t){var o=this;this._getJson(this.options.baseUrl,t),setTimeout(function e(){o._getJson(o.options.baseUrl,function(){}),setTimeout(e,o.options.refreshRate)},this.options.refreshRate)},t.prototype._getJson=function(t,o){var e,n,s,i;e=this,n=window.localStorage.getItem(e.options.timestampStorageKey),s=Date.now(),(null==n||s>n+1e3*e.options.refreshRate)&&(i=new XMLHttpRequest,i.open("GET",t,!0),i.onreadystatechange=function(){return 4==i.readyState?(200===i.status&&(window.localStorage.setItem(e.options.dataStorageKey,i.responseText),window.localStorage.setItem(e.options.timestampStorageKey,s)),void o()):void 0},i.send()),o()},window.ConfigBootstrapper=t}();