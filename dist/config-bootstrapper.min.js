!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.ConfigBootstrapper=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){/*!
 * Config Bootstrapper v0.1.0 <https://github.com/carsdotcom/config-bootstrapper>
 * @license Apache 2.0
 * @copyright 2015 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden <mheller-ogden@cars.com>
 * @summary A simple configuration bootstrapper
 */
"use strict";function ConfigBootstrapper(options){var cbs=this;options="object"==typeof options?options:{},options.refreshRate=options.refreshRate||300,options.refreshRateMs=1e3*options.refreshRate,options.dataStorageKey=options.dataStorageKey||"configBootstrapper.data",options.timestampStorageKey=options.timestampStorageKey||"configBootstrapper.timestamp",options.timeout=options.timeout||4e3,cbs.options=options,cbs.isReady=!1,cbs.timeoutCounter=0,cbs.readyPollRate=50,cbs._loadData(),setTimeout(function refreshHandler(){cbs._loadData(),setTimeout(refreshHandler,options.refreshRateMs)},options.refreshRateMs)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=ConfigBootstrapper,ConfigBootstrapper.prototype.markAsReady=function(){this.isReady=!0},ConfigBootstrapper.prototype.ready=function(callback){var cbs=this;cbs.isReady?callback(cbs.getData()):cbs.timeoutCounter<=cbs.options.timeout?(cbs.timeoutCounter=cbs.timeoutCounter+cbs.readyPollRate,setTimeout(function(){cbs.ready(callback)},cbs.readyPollRate)):callback(cbs.getData())},ConfigBootstrapper.prototype.getData=function(){var data={};try{data=JSON.parse(localStorage.getItem(this.options.dataStorageKey))||{}}catch(e){}return data},ConfigBootstrapper.prototype._loadData=function(){var cbs,ts,now,xhr;cbs=this,ts=parseInt(localStorage.getItem(cbs.options.timestampStorageKey),10),now=Date.now(),!ts||now>=ts+cbs.options.refreshRateMs?(xhr=new XMLHttpRequest,xhr.open("GET",cbs.options.url,!0),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status&&(localStorage.setItem(cbs.options.dataStorageKey,xhr.responseText),localStorage.setItem(cbs.options.timestampStorageKey,now)),cbs.markAsReady())},xhr.send()):cbs.markAsReady()},module.exports=exports["default"]},{}]},{},[1])(1)});